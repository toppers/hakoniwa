<!doctype html><html lang=ja><head><meta name=generator content="Hugo 0.72.0"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>単体ロボット向けシミュレータ導入手順</title><meta name=author content="TOPPERS Project HAKONIWA WG"><meta property="og:title" content="単体ロボット向けシミュレータ導入手順"><meta property="og:description" content="Unityのインストール・パッケージのインポート・初回に行う設定 Unityのインストール  Unityのインストール方法は色々なサイト・書籍で紹介されておりますので，インストールください．
以下のサイト等が参考になるかと思います．
 https://tech-camp.in/note/technology/44408/  使用するUnityパッケージ  今回のデモ用ののUnityパッケージ(ev3rt-demo.unitypackage)は，以下にあります．
ls athrill-sample/ev3rt/ev3rt-beta7-release/unity/ev3rt-demo1.0-1.unitypackage ev3rt-demo1.0.unitypackage ev3rt-demo1.1.unitypackageなお，単体ロボット向けシミュレータで使用するUnityパッケージは，athrillとUnityの通信方式によって異なります．どちらかのパッケージをご選択いただき，インポートを行ってください．
   通信方式 使用するUnityパッケージ     UDP通信 ev3rt-demo1.0.unitypackage   MMAP ev3rt-demo1.0-1.unitypackage    MMAPについて MMAPにすると嬉しい点としては以下が挙げられます．
 UDP のように通信ロストは発生しない(シミュレーション精度向上につながる) Unity と athrill 間のやりとりは共有メモリベースなので，高速になる(と思われる) 上記のとおり，精度向上と高速性を期待して試行してみましたが，精度は良くなりました(速度はあまり変化ないような?)．  ただし，デメリットとして以下が挙げられます．
 1マシン前提での構成を余儀なくされる  UDPであれば，athrillを別PCに配置して負荷分散可能ですので．    Unityパッケージのインポート  Unity 起動 まず，インストールしたUnityを起動してください．
無事起動すると以下のような画面が出ますので，右上の「新規作成」を選択し新規プロジェクト作成します．

次の選択画面で，「プロジェクト名」に適当なプロジェクト名を設定して，「作成」ボタンを押下してください．

成功すると，以下のようにUnityが起動します．

Unityパッケージのインポート Unity のメニューから，「Assets」⇒「Import Package」⇒「Custom Package&mldr;」と選択し，下図のように「ev3rt-demo1.0.unitypackage」を選択してください．"><meta property="og:type" content="article"><meta property="og:url" content="https://toppers.github.io/hakoniwa/single-robot-setup-detail/60_unity_install/"><link rel=canonical href=https://toppers.github.io/hakoniwa/single-robot-setup-detail/60_unity_install/><link rel="hakoniwa logo" type=image/png href=/img/hakoniwa/icon-310x310.png><link href=/hakoniwa/css/font.css rel=stylesheet type=text/css><link href=/hakoniwa/css/kube.min.css rel=stylesheet type=text/css><link href=/hakoniwa/css/kube.legenda.css rel=stylesheet type=text/css><link href=/hakoniwa/css/highlight.css rel=stylesheet type=text/css><link href=/hakoniwa/css/master.css rel=stylesheet type=text/css><link href=/hakoniwa/css/kube.demo.css rel=stylesheet type=text/css><link href=/hakoniwa/css/custom.css rel=stylesheet type=text/css><script src=/hakoniwa/js/jquery-2.1.4.min.js type=text/javascript></script><script type=text/javascript src=/hakoniwa/js/tocbot.min.js></script></head><body class=page-kube><header><div class=show-sm><div id=nav-toggle-box><div id=nav-toggle-brand><a href=/hakoniwa>Top</a></div><a data-component=toggleme data-target=#top href=# id=nav-toggle><i class=kube-menu></i></a></div></div><div class=hide-sm id=top><div id=top-brand><a href=/hakoniwa title=home>Top</a></div><nav id=top-nav-main><ul><li><a href=/hakoniwa/docs/>箱庭とは</a></li><li><a href=/hakoniwa/prototypes/>プロトタイプモデル</a></li><li><a href=/hakoniwa/technical-links/>技術情報・発表資料</a></li><li><a href=/hakoniwa/contact/>問合せ先</a></li></ul></nav><nav id=top-nav-extra><ul></ul></nav></div></header><main><div id=main><div id=hero><h1>単体ロボット向けシミュレータ導入手順</h1><p class=hero-lead>.</p></div><div id=kube-component class=content><h1 id=unityのインストールパッケージのインポート初回に行う設定>Unityのインストール・パッケージのインポート・初回に行う設定</h1><h2 id=unityのインストール>Unityのインストール</h2><hr><p>Unityのインストール方法は色々なサイト・書籍で紹介されておりますので，インストールください．</p><p>以下のサイト等が参考になるかと思います．</p><ul><li><a href=https://tech-camp.in/note/technology/44408/>https://tech-camp.in/note/technology/44408/</a></li></ul><h2 id=使用するunityパッケージ>使用するUnityパッケージ</h2><hr><p>今回のデモ用ののUnityパッケージ(ev3rt-demo.unitypackage)は，以下にあります．</p><pre><code>ls athrill-sample/ev3rt/ev3rt-beta7-release/unity/
ev3rt-demo1.0-1.unitypackage  ev3rt-demo1.0.unitypackage  ev3rt-demo1.1.unitypackage
</code></pre><p>なお，単体ロボット向けシミュレータで使用するUnityパッケージは，athrillとUnityの通信方式によって異なります．どちらかのパッケージをご選択いただき，インポートを行ってください．</p><table><thead><tr><th>通信方式</th><th>使用するUnityパッケージ</th></tr></thead><tbody><tr><td>UDP通信</td><td>ev3rt-demo1.0.unitypackage</td></tr><tr><td>MMAP</td><td>ev3rt-demo1.0-1.unitypackage</td></tr></tbody></table><h3 id=mmapについて>MMAPについて</h3><p>MMAPにすると嬉しい点としては以下が挙げられます．</p><ul><li>UDP のように通信ロストは発生しない(シミュレーション精度向上につながる)</li><li>Unity と athrill 間のやりとりは共有メモリベースなので，高速になる(と思われる)</li><li>上記のとおり，精度向上と高速性を期待して試行してみましたが，精度は良くなりました(速度はあまり変化ないような?)．</li></ul><p>ただし，デメリットとして以下が挙げられます．</p><ul><li>1マシン前提での構成を余儀なくされる<ul><li>UDPであれば，athrillを別PCに配置して負荷分散可能ですので．</li></ul></li></ul><h2 id=unityパッケージのインポート>Unityパッケージのインポート</h2><hr><h3 id=unity-起動>Unity 起動</h3><p>まず，インストールしたUnityを起動してください．<br>無事起動すると以下のような画面が出ますので，右上の「新規作成」を選択し新規プロジェクト作成します．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2F09b1d24e-17a6-11b6-f4e7-a32efd5107d0.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=71f7230879bf208b4317c3930f570998"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2F09b1d24e-17a6-11b6-f4e7-a32efd5107d0.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=71f7230879bf208b4317c3930f570998" alt=image.png></a></p><p>次の選択画面で，「プロジェクト名」に適当なプロジェクト名を設定して，「作成」ボタンを押下してください．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fbf9174e4-9de5-900e-8ff7-dacaeb1de778.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=d494c6c1379648a895482a6be6fc5156"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fbf9174e4-9de5-900e-8ff7-dacaeb1de778.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=d494c6c1379648a895482a6be6fc5156" alt=image.png></a></p><p>成功すると，以下のようにUnityが起動します．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fed3b9d03-d11e-47f8-7986-bbc8ac7dcc28.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=6e3ec3c126454926deb57b59b238fc0a"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fed3b9d03-d11e-47f8-7986-bbc8ac7dcc28.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=6e3ec3c126454926deb57b59b238fc0a" alt=image.png></a></p><h3 id=unityパッケージのインポート-1>Unityパッケージのインポート</h3><p>Unity のメニューから，「Assets」⇒「Import Package」⇒「Custom Package&mldr;」と選択し，下図のように「ev3rt-demo1.0.unitypackage」を選択してください．</p><p>MMAP対応版をご利用される場合は，[ev3rt-demo1.0-1.unitypackage]を選択してください．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2F54476ebb-958f-de77-48ad-6e80e06b0cd2.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=2e4f38a72a936c33a942e7aadbe34a17"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2F54476ebb-958f-de77-48ad-6e80e06b0cd2.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=2e4f38a72a936c33a942e7aadbe34a17" alt=image.png></a></p><p>成功すると，下図の画面がポップアップされますので，素直に「Import」ボタンを押下してください．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fa2d57a43-20db-a084-3993-467c36761d38.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=a25ffa27270c01428595ccc0359ea28b"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fa2d57a43-20db-a084-3993-467c36761d38.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=a25ffa27270c01428595ccc0359ea28b" alt=image.png></a></p><p>成功するとProject/Scenes配下にRoboconSampleというシーンが追加されます(下図)．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fa671c5f2-bc53-f66c-6b3a-094ae51d5d36.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=255c03db25461addcdffa3a94401fd83"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fa671c5f2-bc53-f66c-6b3a-094ae51d5d36.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=255c03db25461addcdffa3a94401fd83" alt=image.png></a></p><p>RoboconSampleをダブルクリックすると下図の画面が現れます．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fa5da2d91-0857-4b63-bfa9-829204050699.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=40b63737bb172fc44d36ffbbce9acf3b"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fa5da2d91-0857-4b63-bfa9-829204050699.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=40b63737bb172fc44d36ffbbce9acf3b" alt=image.png></a></p><p>次に，シミュレーションの時間精度を1msecに変更します．<br>Unityのメニューから「Edit」⇒「Project Settings」と選択し，下図のように「Fixed Timestep」を 「0.001」としてください．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2F2848c388-ce6c-6464-aeb7-817a621fb6f6.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=ef9087eeb5ddbd6b4814dceccb94501b"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2F2848c388-ce6c-6464-aeb7-817a621fb6f6.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=ef9087eeb5ddbd6b4814dceccb94501b" alt=image.png></a></p><p>なお，Fixed Timestepを0.001よりも大きい値にすることも可能です．シミュレーション精度は落ちますが，実行速度は速くなりますので，ご利用環境に応じて調整してください．<br>MMAP版の場合は，0.01くらいでよいと思われます．</p><p>これでインポート作業終了です．</p><h2 id=初回に行う設定>初回に行う設定</h2><hr><ul><li><a href=https://toppers.github.io/hakoniwa/single-robot-setup-detail/61_unity_install_udp/>UDP版を使用する場合はこちら</a></li><li><a href=https://toppers.github.io/hakoniwa/single-robot-setup-detail/61_unity_install_mmap/>MMAP版を使用する場合はこちら</a></li></ul></div></div></main><footer></footer><script src=/hakoniwa/js/kube.js type=text/javascript></script><script src=/hakoniwa/js/kube.legenda.js type=text/javascript></script><script src=/hakoniwa/js/master.js type=text/javascript></script></body></html>