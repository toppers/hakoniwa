<!doctype html><html lang=ja><head><meta name=generator content="Hugo 0.126.1"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>単体ロボット向けシミュレータ導入手順 </title><meta name=author content="TOPPERS Project Hakoniwa WG"><meta property="og:url" content="https://toppers.github.io/hakoniwa/single-robot-setup-detail/61_unity_install_mmap_v2.0/"><meta property="og:site_name" content="箱庭"><meta property="og:title" content="単体ロボット向けシミュレータ導入手順"><meta property="og:description" content="MMAP用Unity設定 UnityとathrillをMMAPで通信する場合は，Unity側で以下の設定を行います．
Unity のメニューから，「Edit」⇒「Project Settings」を選択します．
「Player」
Other SettingのScripting Define Symbols にVDEV_IO_MMAPと設定します．
MMAP用パラメータ設定 ※なお，このページで紹介しているUnity画面の画像はWindows版のものです
HierarchyビューでRobot配下のRoboModelを選択してください．
すると画面右のInspectorビューに[Io Writer (Script)]と[Io Reader (Script)]の項目が表示されます.
インポート直後ですと，[Io Writer (Script)] と [Io Reader (Script)]の Filepath は空白です．
ここに設定する値としては，athrillとUnity間で通信するためのMMAPファイルの絶対パスを指定します．
MMAPファイル自体は，以下の２ファイルがapp.cと同じフォルダに含まれています．
athrill_mmap.bin unity_mmap.bin unity_mmap.bin の絶対ファイルパスを，[Io Writer (Script)]のFilepathに設定してください(設定例：下図)．
athrill_mmap.bin の絶対ファイルパスを，[Io Reader (Script)]のFilepathに設定してください(設定例：下図)．
例えば，v850版を使用するという前提でev3rt-athrill-v850e2mのローカルリポジトリが，
C:\project\hakoniwaにあり，実行したいアプリケーションのフォルダがline_traceの場合は，
以下のパスを設定します．
[Io Writer (Script)]のFilePath
C:\project\hakoniwa\ev3rt-athrill-v850e2m\sdk\workspace\line_trace\unity_mmap.bin
[Io Reader (Script)]のFilePath
C:\project\hakoniwa\ev3rt-athrill-v850e2m\sdk\workspace\line_trace\athrill_mmap.bin
以上でMMAPの設定は終わりです．"><meta property="og:locale" content="ja"><meta property="og:type" content="article"><meta property="article:section" content="single-robot-setup-detail"><meta property="og:image" content="https://toppers.github.io/hakoniwa/img/hakoniwa/icon-310x310.png"><meta name=twitter:card content="summary"><meta name=twitter:site content="@toppersjp"><meta property="fb:app_id" content="3035581286538848"><script async src="https://www.googletagmanager.com/gtag/js?id=G-57DLKTNNK8"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-57DLKTNNK8")</script><link rel=canonical href=https://toppers.github.io/hakoniwa/single-robot-setup-detail/61_unity_install_mmap_v2.0/><link rel=icon type=image/png href=/hakoniwa/img/hakoniwa/favicon-32x32.png><link href=/hakoniwa/css/font.css rel=stylesheet type=text/css><link href=/hakoniwa/css/kube.min.css rel=stylesheet type=text/css><link href=/hakoniwa/css/kube.legenda.css rel=stylesheet type=text/css><link href=/hakoniwa/css/highlight.css rel=stylesheet type=text/css><link href=/hakoniwa/css/main.css rel=stylesheet type=text/css><link href=/hakoniwa/css/custom.css rel=stylesheet type=text/css><script src=/hakoniwa/js/jquery-2.1.4.min.js type=text/javascript></script><script type=text/javascript src=/hakoniwa/js/tocbot.min.js></script></head><body class=page-kube><header><div class=show-sm><div id=nav-toggle-box><div id=nav-toggle-brand><a href=/hakoniwa/>箱庭</a></div><a data-component=toggleme data-target=#top href=# id=nav-toggle><i class=kube-menu></i></a></div></div><div class=hide-sm id=top><div id=top-brand><a href=/hakoniwa/ title=home><img src=/hakoniwa/img/hakoniwa/icon-70x70.png></a></div><nav id=top-nav-main><ul><li><a href=/hakoniwa/docs/>箱庭とは</a></li><li><a href=/hakoniwa/prototypes/>プロトタイプモデル</a></li><li><a href=/hakoniwa/technical-links/>技術情報</a></li><li><a href=/hakoniwa/showcase/>ショーケース</a></li><li><a href=/hakoniwa/tutorial/>チュートリアル</a></li><li><a href=/hakoniwa/repositories/>リポジトリ</a></li><li><a href=/hakoniwa/contact/>SNS・問合せ先</a></li></ul></nav><nav id=top-nav-extra><ul><li><a href=# class="active language">JP</a></li></ul></nav></div></header><main><div id=main><div id=hero><h1>単体ロボット向けシミュレータ導入手順</h1><p class=hero-lead>.</p></div><div id=kube-component class=content><h1 id=mmap用unity設定>MMAP用Unity設定</h1><p>UnityとathrillをMMAPで通信する場合は，Unity側で以下の設定を行います．</p><p>Unity のメニューから，「Edit」⇒「Project Settings」を選択します．</p><p>「Player」<br><code>Other Setting</code>の<code>Scripting Define Symbols</code> に<code>VDEV_IO_MMAP</code>と設定します．</p><figure><img src=/hakoniwa/img/single-robot/unity_setting_player_mmap.png border width=700></figure><h1 id=mmap用パラメータ設定>MMAP用パラメータ設定</h1><p>※なお，このページで紹介しているUnity画面の画像はWindows版のものです</p><p><code>Hierarchy</code>ビューで<code>Robot</code>配下の<code>RoboModel</code>を選択してください．<br>すると画面右の<code>Inspector</code>ビューに[Io Writer (Script)]と[Io Reader (Script)]の項目が表示されます.</p><p><figure><img src=/hakoniwa/img/single-robot/unity_hierarchy_view_robo_v2.0.png border width=300></figure><figure><img src=/hakoniwa/img/single-robot/unity_setting_mmap_emp.png border width=300></figure></p><p>インポート直後ですと，[Io Writer (Script)] と [Io Reader (Script)]の Filepath は空白です．<br>ここに設定する値としては，athrillとUnity間で通信するためのMMAPファイルの絶対パスを指定します．</p><p>MMAPファイル自体は，以下の２ファイルが<code>app.c</code>と同じフォルダに含まれています．</p><ul><li>athrill_mmap.bin</li><li>unity_mmap.bin</li></ul><p>unity_mmap.bin の絶対ファイルパスを，[Io Writer (Script)]のFilepathに設定してください(設定例：下図)．</p><p>athrill_mmap.bin の絶対ファイルパスを，[Io Reader (Script)]のFilepathに設定してください(設定例：下図)．</p><figure><img src=/hakoniwa/img/single-robot/unity_setting_mmap.png border width=400></figure><p>例えば，v850版を使用するという前提で<code>ev3rt-athrill-v850e2m</code>のローカルリポジトリが，<br><code>C:\project\hakoniwa</code>にあり，実行したいアプリケーションのフォルダが<code>line_trace</code>の場合は，<br>以下のパスを設定します．</p><ul><li><p>[Io Writer (Script)]のFilePath<br><code>C:\project\hakoniwa\ev3rt-athrill-v850e2m\sdk\workspace\line_trace\unity_mmap.bin</code></p></li><li><p>[Io Reader (Script)]のFilePath<br><code>C:\project\hakoniwa\ev3rt-athrill-v850e2m\sdk\workspace\line_trace\athrill_mmap.bin</code></p></li></ul><p>以上でMMAPの設定は終わりです．</p></div></div></main><footer><footer id=footer><nav><ul><li><span>HAKONIWA-WG</span></li></ul></nav><p>&copy; 2019- by Hakoniwa Working-Group, TOPPERS Project</p></footer></footer><script src=/hakoniwa/js/kube.js type=text/javascript></script><script src=/hakoniwa/js/kube.legenda.js type=text/javascript></script><script src=/hakoniwa/js/main.js type=text/javascript></script></body></html>