<!doctype html><html lang=ja><head><meta name=generator content="Hugo 0.126.1"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>単体ロボット向けシミュレータ導入手順 </title><meta name=author content="TOPPERS Project Hakoniwa WG"><meta property="og:url" content="https://toppers.github.io/hakoniwa/single-robot-setup-detail/61_unity_install_udp_v2.0/"><meta property="og:site_name" content="箱庭"><meta property="og:title" content="単体ロボット向けシミュレータ導入手順"><meta property="og:description" content="UDP用パラメータ設定 UnityとathrillをUDPで通信する場合は，以下のパラメータを設定する必要があります．
※ただし，1台のPCでシミュレーションを実行する場合は，以下の設定は不要です．
説明する上でのIPアドレスの構成例 Unity側のIPアドレス：192.168.11.32
athrill側のIPアドレス：192.168.11.20
なお，IPアドレスの確認方法は以下のやり方でわかります．
お使いのPCがLinux/WSLの場合 ターミナル上で ifconfig コマンドを叩いて，ethernetの inet addr の値を確認します．
$ ifconfigeth0 Link encap:Ethernet HWaddr 54:ee:75:b4:3c:96inet addr:192.168.11.32 Bcast:192.168.11.255 Mask:255.255.255.0inet6 addr: fe80::cc6d:70d3:a934:a61b/64 Scope:UnknownUP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1RX packets:0 errors:0 dropped:0 overruns:0 frame:0TX packets:0 errors:0 dropped:0 overruns:0 carrier:0collisions:0RX bytes:0 (0.0 B) TX bytes:0 (0.0 B) お使いのPCがWindowsの場合 Windows PowerShell を開いて，ipconfigを叩きます．
> ipconfigWindows IP 構成イーサネット アダプター イーサネット:リンクローカル IPv6 アドレス."><meta property="og:locale" content="ja"><meta property="og:type" content="article"><meta property="article:section" content="single-robot-setup-detail"><meta property="og:image" content="https://toppers.github.io/hakoniwa/img/hakoniwa/icon-310x310.png"><meta name=twitter:card content="summary"><meta name=twitter:site content="@toppersjp"><meta property="fb:app_id" content="3035581286538848"><script async src="https://www.googletagmanager.com/gtag/js?id=G-57DLKTNNK8"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-57DLKTNNK8")</script><link rel=canonical href=https://toppers.github.io/hakoniwa/single-robot-setup-detail/61_unity_install_udp_v2.0/><link rel=icon type=image/png href=/hakoniwa/img/hakoniwa/favicon-32x32.png><link href=/hakoniwa/css/font.css rel=stylesheet type=text/css><link href=/hakoniwa/css/kube.min.css rel=stylesheet type=text/css><link href=/hakoniwa/css/kube.legenda.css rel=stylesheet type=text/css><link href=/hakoniwa/css/highlight.css rel=stylesheet type=text/css><link href=/hakoniwa/css/main.css rel=stylesheet type=text/css><link href=/hakoniwa/css/custom.css rel=stylesheet type=text/css><script src=/hakoniwa/js/jquery-2.1.4.min.js type=text/javascript></script><script type=text/javascript src=/hakoniwa/js/tocbot.min.js></script></head><body class=page-kube><header><div class=show-sm><div id=nav-toggle-box><div id=nav-toggle-brand><a href=/hakoniwa/>箱庭</a></div><a data-component=toggleme data-target=#top href=# id=nav-toggle><i class=kube-menu></i></a></div></div><div class=hide-sm id=top><div id=top-brand><a href=/hakoniwa/ title=home><img src=/hakoniwa/img/hakoniwa/icon-70x70.png></a></div><nav id=top-nav-main><ul><li><a href=/hakoniwa/docs/>箱庭とは</a></li><li><a href=/hakoniwa/prototypes/>プロトタイプモデル</a></li><li><a href=/hakoniwa/technical-links/>技術情報</a></li><li><a href=/hakoniwa/showcase/>ショーケース</a></li><li><a href=/hakoniwa/tutorial/>チュートリアル</a></li><li><a href=/hakoniwa/repositories/>リポジトリ</a></li><li><a href=/hakoniwa/contact/>SNS・問合せ先</a></li></ul></nav><nav id=top-nav-extra><ul><li><a href=# class="active language">JP</a></li></ul></nav></div></header><main><div id=main><div id=hero><h1>単体ロボット向けシミュレータ導入手順</h1><p class=hero-lead>.</p></div><div id=kube-component class=content><h1 id=udp用パラメータ設定>UDP用パラメータ設定</h1><p>UnityとathrillをUDPで通信する場合は，以下のパラメータを設定する必要があります．</p><p><strong>※ただし，1台のPCでシミュレーションを実行する場合は，以下の設定は不要です．</strong></p><h3 id=説明する上でのipアドレスの構成例>説明する上でのIPアドレスの構成例</h3><p>Unity側のIPアドレス：192.168.11.32<br>athrill側のIPアドレス：192.168.11.20</p><p>なお，IPアドレスの確認方法は以下のやり方でわかります．</p><h4 id=お使いのpcがlinuxwslの場合>お使いのPCがLinux/WSLの場合</h4><p>ターミナル上で ifconfig コマンドを叩いて，ethernetの inet addr の値を確認します．</p><pre tabindex=0><code>$ ifconfig
eth0      Link encap:Ethernet  HWaddr 54:ee:75:b4:3c:96
          inet addr:192.168.11.32  Bcast:192.168.11.255  Mask:255.255.255.0
          inet6 addr: fe80::cc6d:70d3:a934:a61b/64 Scope:Unknown
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
</code></pre><h4 id=お使いのpcがwindowsの場合>お使いのPCがWindowsの場合</h4><p>Windows PowerShell を開いて，ipconfigを叩きます．</p><pre tabindex=0><code>&gt; ipconfig

Windows IP 構成


イーサネット アダプター イーサネット:

   リンクローカル IPv6 アドレス. . . . .: fe80::cc6d:70d3:a934:a61b%24
   IPv4 アドレス . . . . . . . . . . . .: 192.168.11.32
   サブネット マスク . . . . . . . . . .: 255.255.255.0
   デフォルト ゲートウェイ . . . . . . .: 192.168.11.1
</code></pre><h3 id=athrillのパラメータ>athrillのパラメータ</h3><p>athrillを実行するフォルダ配下に，athrill制御用のパラメータ設定ファイル device_config.txt があります．<br>そこに，以下のようにIPアドレスを定義してください．</p><pre tabindex=0><code>DEBUG_FUNC_VDEV_TX_IPADDR       192.168.11.32
DEBUG_FUNC_VDEV_TX_PORTNO   	54001
DEBUG_FUNC_VDEV_RX_IPADDR       192.168.11.20
DEBUG_FUNC_VDEV_RX_PORTNO   	54002
</code></pre><p>DEBUG_FUNC_VDEV_TX_IPADDR には，Unity側のIPアドレスを設定します．<br>DEBUG_FUNC_VDEV_RX_IPADDR には，athrill側のIPアドレスを設定します．</p><h3 id=unityのパラメータ>Unityのパラメータ</h3><p><code>Hierarchy</code>ビューで<code>Robot</code>配下の<code>RoboModel</code>を選択してください．<br>すると画面右の<code>Inspector</code>ビューに[Io Writer (Script)]と[Io Reader (Script)]の項目が表示されます.</p><figure><img src=/hakoniwa/img/single-robot/unity_hierarchy_view_robo_v2.0.png border width=300></figure><ul><li><p>Io Writer (Script)<br>Hostにathrill側のIPアドレスを設定してください．<br>Portには<code>DEBUG_FUNC_VDEV_RX_PORTNO</code>で設定した値を設定してください．</p></li><li><p>Io Reader (Script)<br>Portには<code>DEBUG_FUNC_VDEV_TX_PORTNO</code>で設定した値を設定してください．</p></li></ul><figure><img src=/hakoniwa/img/single-robot/unity_setting_udp.png border width=400></figure></div></div></main><footer><footer id=footer><nav><ul><li><span>HAKONIWA-WG</span></li></ul></nav><p>&copy; 2019- by Hakoniwa Working-Group, TOPPERS Project</p></footer></footer><script src=/hakoniwa/js/kube.js type=text/javascript></script><script src=/hakoniwa/js/kube.legenda.js type=text/javascript></script><script src=/hakoniwa/js/main.js type=text/javascript></script></body></html>