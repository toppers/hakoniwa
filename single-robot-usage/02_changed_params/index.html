<!doctype html><html lang=ja><head><meta name=generator content="Hugo 0.102.3"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>シミュレーションに関するチューニング</title><meta name=author content="TOPPERS Project Hakoniwa WG"><meta property="og:title" content="シミュレーションに関するチューニング"><meta property="og:description" content="変更可能なパラメータ EV3のパラメータについて 今回のシミュレーション環境(Unity側)にはいくつかパラメータがありますので，その説明を行います．
まず，パラメータを参照するには，Hierarchyビューで，「EV3」を選択してください(下図)．
すると，InspectorビューにEV3のパラメータが表示されます．
以下，変更可能なパラメータを説明します(説明されていないものは変更しないでください)． ※これらのパラメータは，シミュレーション実行時に動的に変更も可能なものもあります．
EV3 Actuator(Script) Port(動的変更不可) Unity側のUDP受信ポート番号です．デフォルトでは54001です．
この値を変更する場合は，athrill側のパラメータ定義ファイル(device_config.txt)の以下も変更してください．
DEBUG_FUNC_VDEV_TX_PORTNO 54001 device_config.txt は，app.cと同じフォルダにあります．
EV3 Sensor(Script) Host(動的変更不可) Athrillの配置マシンのIPアドレスです． Unityと同じマシン上に配置する場合は，デフォルト値のままで良いです．
マシン負荷が高く，athrillとUnityを別マシンで動かす場合は，このIPアドレスを変更して対応ください．
Port(動的変更不可) Athrill側のUDP受信ポート番号です．デフォルトでは54002です．
この値を変更する場合は，athrill側のパラメータ定義ファイル(device_config.txt)の以下も変更してください．
DEBUG_FUNC_VDEV_RX_PORTNO 54002 device_config.txt は，app.cと同じフォルダにあります．
EV3 Motor(Script) Power Const(動的変更可) EV3のモータのパワーです．デフォルトで40としていますが，値を変更できます．
ただ，あまり大きい値を設定しすぎるとUnity側の問題か，物理的にありえないのかよくわかりませんが，EVロボットが吹っ飛びますので，ご注意ください．．．
照明のON/OFFについて 今回のデモでは，照明を３個用意しています．
全体照明１個 Directional Light スポットライト２個 Spot Light1 Spot Light2 それぞれの照明はシミュレーション実行時にON/OFFできます． ON/OFFのさせ方は単純で，HierachyビューでON/OFFしたいライトを選択します．
すると，Inspectorビューに下図のように「Light」のチェックボックスが見えます． このチェックボックスを外せばOFFになります．
カラーセンサの状態 パラメータではないですが，カラーセンサの認識している状態を知りたくなることがあるかと思います． そのため，カラーセンサの認識している値をUnityのパラメータ表示機能を利用して可視化しています．
参照するには，下図のようにHierarchyビューでColorSensorを選択してください．
そうすると，Inspectorビューに下図のように認識値(Rgb)が表示されます．
Rgbは，現在認識している色をそのまま表示しています． Rgb_r,g,b には，カラーセンサで取得できる数値を表示しています．"><meta property="og:type" content="article"><meta property="og:url" content="https://toppers.github.io/hakoniwa/single-robot-usage/02_changed_params/"><meta property="og:image" content="https://toppers.github.io/hakoniwa/img/hakoniwa/icon-310x310.png"><meta property="article:section" content="single-robot-usage"><meta name=twitter:card content="summary"><meta name=twitter:site content="@toppersjp"><meta property="fb:app_id" content="3035581286538848"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-169187702-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<link rel=canonical href=https://toppers.github.io/hakoniwa/single-robot-usage/02_changed_params/><link rel=icon type=image/png href=/hakoniwa/img/hakoniwa/favicon-32x32.png><link href=/hakoniwa/css/font.css rel=stylesheet type=text/css><link href=/hakoniwa/css/kube.min.css rel=stylesheet type=text/css><link href=/hakoniwa/css/kube.legenda.css rel=stylesheet type=text/css><link href=/hakoniwa/css/highlight.css rel=stylesheet type=text/css><link href=/hakoniwa/css/main.css rel=stylesheet type=text/css><link href=/hakoniwa/css/custom.css rel=stylesheet type=text/css><script src=/hakoniwa/js/jquery-2.1.4.min.js type=text/javascript></script><script type=text/javascript src=/hakoniwa/js/tocbot.min.js></script></head><body class=page-kube><header><div class=show-sm><div id=nav-toggle-box><div id=nav-toggle-brand><a href=/hakoniwa>箱庭</a></div><a data-component=toggleme data-target=#top href=# id=nav-toggle><i class=kube-menu></i></a></div></div><div class=hide-sm id=top><div id=top-brand><a href=/hakoniwa title=home><img src=/hakoniwa/img/hakoniwa/icon-70x70.png></a></div><nav id=top-nav-main><ul><li><a href=/hakoniwa/docs/>箱庭とは</a></li><li><a href=/hakoniwa/prototypes/>プロトタイプモデル</a></li><li><a href=/hakoniwa/technical-links/>技術情報</a></li><li><a href=/hakoniwa/showcase/>ショーケース</a></li><li><a href=/hakoniwa/getting-started/>Getting Started</a></li><li><a href=/hakoniwa/repositories/>リポジトリ</a></li><li><a href=/hakoniwa/contact/>SNS・問合せ先</a></li></ul></nav><nav id=top-nav-extra><ul><li><a href=# class="active language">JP</a></li></ul></nav></div></header><main><div id=main><div id=hero><h1>シミュレーションに関するチューニング</h1><p class=hero-lead>.</p></div><div id=kube-component class=content><h1 id=変更可能なパラメータ>変更可能なパラメータ</h1><h2 id=ev3のパラメータについて>EV3のパラメータについて</h2><hr><p>今回のシミュレーション環境(Unity側)にはいくつかパラメータがありますので，その説明を行います．</p><p>まず，パラメータを参照するには，Hierarchyビューで，「EV3」を選択してください(下図)．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2F11a57fef-9e2d-e0a0-ef76-af5f71fc5d09.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=2fdf76b9af97446c26fe08b5e484d631"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2F11a57fef-9e2d-e0a0-ef76-af5f71fc5d09.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=2fdf76b9af97446c26fe08b5e484d631" alt=image.png></a></p><p>すると，InspectorビューにEV3のパラメータが表示されます．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2F835e61c2-0ec6-b955-3e32-01ba535a1860.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=34989dc74c297f1639308d77c4282ba6"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2F835e61c2-0ec6-b955-3e32-01ba535a1860.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=34989dc74c297f1639308d77c4282ba6" alt=image.png></a></p><p>以下，変更可能なパラメータを説明します(説明されていないものは変更しないでください)．
※これらのパラメータは，シミュレーション実行時に動的に変更も可能なものもあります．</p><h2 id=ev3-actuatorscript>EV3 Actuator(Script)</h2><hr><h3 id=port動的変更不可>Port(動的変更不可)</h3><p>Unity側のUDP受信ポート番号です．デフォルトでは54001です．</p><p>この値を変更する場合は，athrill側のパラメータ定義ファイル(device_config.txt)の以下も変更してください．</p><pre tabindex=0><code>DEBUG_FUNC_VDEV_TX_PORTNO   54001
</code></pre><p>device_config.txt は，app.cと同じフォルダにあります．</p><h2 id=ev3-sensorscript>EV3 Sensor(Script)</h2><hr><h3 id=host動的変更不可>Host(動的変更不可)</h3><p>Athrillの配置マシンのIPアドレスです．
Unityと同じマシン上に配置する場合は，デフォルト値のままで良いです．</p><p>マシン負荷が高く，athrillとUnityを別マシンで動かす場合は，このIPアドレスを変更して対応ください．</p><h3 id=port動的変更不可-1>Port(動的変更不可)</h3><p>Athrill側のUDP受信ポート番号です．デフォルトでは54002です．</p><p>この値を変更する場合は，athrill側のパラメータ定義ファイル(device_config.txt)の以下も変更してください．</p><pre tabindex=0><code>DEBUG_FUNC_VDEV_RX_PORTNO   54002
</code></pre><p>device_config.txt は，app.cと同じフォルダにあります．</p><h2 id=ev3-motorscript>EV3 Motor(Script)</h2><hr><h3 id=power-const動的変更可>Power Const(動的変更可)</h3><p>EV3のモータのパワーです．デフォルトで40としていますが，値を変更できます．</p><p>ただ，あまり大きい値を設定しすぎるとUnity側の問題か，物理的にありえないのかよくわかりませんが，EVロボットが吹っ飛びますので，ご注意ください．．．</p><h2 id=照明のonoffについて>照明のON/OFFについて</h2><hr><p>今回のデモでは，照明を３個用意しています．</p><ul><li>全体照明１個<ul><li>Directional Light</li></ul></li><li>スポットライト２個<ul><li>Spot Light1</li><li>Spot Light2</li></ul></li></ul><p>それぞれの照明はシミュレーション実行時にON/OFFできます．
ON/OFFのさせ方は単純で，HierachyビューでON/OFFしたいライトを選択します．</p><p>すると，Inspectorビューに下図のように「Light」のチェックボックスが見えます．
このチェックボックスを外せばOFFになります．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fd14a2c69-1a29-7e92-9281-db2f2c6dfeb0.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=6cce316ca8400bfc1fd70ee8d93784b5"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fd14a2c69-1a29-7e92-9281-db2f2c6dfeb0.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=6cce316ca8400bfc1fd70ee8d93784b5" alt=image.png></a></p><h2 id=カラーセンサの状態>カラーセンサの状態</h2><hr><p>パラメータではないですが，カラーセンサの認識している状態を知りたくなることがあるかと思います．
そのため，カラーセンサの認識している値をUnityのパラメータ表示機能を利用して可視化しています．</p><p>参照するには，下図のようにHierarchyビューでColorSensorを選択してください．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fb1a7d803-a262-07bb-d2e3-cfdc188ae9ab.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=435eebd6c23b9982645643c53f8dc4c1"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2Fb1a7d803-a262-07bb-d2e3-cfdc188ae9ab.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=435eebd6c23b9982645643c53f8dc4c1" alt=image.png></a></p><p>そうすると，Inspectorビューに下図のように認識値(Rgb)が表示されます．</p><p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2F487343b4-2303-046a-f819-42f058143bf7.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=17d4a51db5055db1f82b7a47bc56651c"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244147%2F487343b4-2303-046a-f819-42f058143bf7.png?ixlib=rb-1.2.2&auto=format&gif-q=60&q=75&s=17d4a51db5055db1f82b7a47bc56651c" alt=image.png></a></p><p>Rgbは，現在認識している色をそのまま表示しています．
Rgb_r,g,b には，カラーセンサで取得できる数値を表示しています．</p></div></div></main><footer><footer id=footer><nav><ul><li><span>HAKONIWA-WG</span></li></ul></nav><p>&copy; 2019- by Hakoniwa Working-Group, TOPPERS Project</p></footer></footer><script src=/hakoniwa/js/kube.js type=text/javascript></script><script src=/hakoniwa/js/kube.legenda.js type=text/javascript></script><script src=/hakoniwa/js/main.js type=text/javascript></script></body></html>